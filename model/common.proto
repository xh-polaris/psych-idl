syntax = "proto3";

package model;

option go_package = "model";

import "basic/pagination.proto";

message UnitAppConfig {
  string id = 1;
  string unitId = 2;
  string name = 3;
  string view = 4;
  string chat = 5;
  string asr = 6;
  string tts = 7;
  string report = 8;
  map<string, string> option = 9;
  int32 status = 10;
  int64 createTime = 11;
  int64 updateTime = 12;
}

message App {
  string id = 1;
  string name = 2;
  string description = 3;
  string lang = 4;
  string platform = 5;
  string provider = 6;
  string url = 7;
  string appId = 8;
  string accessKey = 9;
  bool stream = 10;
  int32 level = 11;
  int32 status = 12;
  int64 createTime = 13;
  int64 updateTime = 14;
  int64 deleteTime = 15;
}

message AppData {
  int32 type = 1;
  oneof app {
    ChatApp chatApp = 2;
    TtsApp ttsApp = 3;
    AsrApp asrApp = 4;
    ReportApp reportApp = 5;
  }
}

message ChatApp {
  App app = 1;
}

message TtsApp {
  App app = 1;
  string namespace = 2;
  string speaker = 3;
  string resourceId = 4;
  message audioParam {
    string format = 1;
    string codec = 2;
    int32 rate = 3;
    int32 bits = 4;
    int32 channels = 5;
    int32 speechRate = 6;
    int32 loudnessRate = 7;
    string lang = 8;
    string resultType = 9;
  }
  audioParam audioParams = 5;
}

message AsrApp {
  App app = 1;
  string format = 2;
  string codec = 3;
  int32 rate = 4;
  int32 bits = 5;
  int32 channels = 6;
  string modelName = 7;
  bool enablePunc = 8;
  bool enableDdc = 9;
  string resultType = 10;
  string resourceId = 11;
}

message ReportApp {
  App app = 1;
}

message UnitAppConfigCreateReq {
  UnitAppConfig unitAppConfig = 1;
  bool admin = 2;
}
message UnitAppConfigCreateResp {
  UnitAppConfig unitAppConfig = 1;
}

message UnitAppConfigUpdateReq {
  UnitAppConfig unitAppConfig = 1;
  bool admin = 2;
}

message UnitAppConfigGetByIdReq {
  string id = 1;
  bool admin = 2;
}
message UnitAppConfigGetByIdResp {
  UnitAppConfig unitAppConfig = 1;
  repeated AppData apps = 2;
}

message UnitAppConfigGetByUnitIdReq {
  string unitId = 1;
  bool admin = 2;
}
message UnitAppConfigGetByUnitIdResp {
  UnitAppConfig unitAppConfig = 1;
  repeated AppData apps = 2;
}

message AppCreateReq {
  AppData app = 1;
  string configId = 2;
}
message AppCreateResp {
  AppData app = 1;
}

message AppUpdateReq {
  AppData app = 1;
  string configId = 2;
}

message AppGetByConfigIdReq {
  string configId = 1;
}
message AppGetByConfigIdResp {
  repeated AppData apps = 1;
}

message AppGetByIdReq {
  string id = 1;
}
message AppGetByIdResp {
  AppData app = 1;
}

message AppListReq {
  basic.PaginationOptions paginationOptions = 1;
  int32 type = 2;
}
message AppListResp {
  repeated AppData apps = 1;
  int64 total = 2;
  int64 page = 3;
  int64 pageSize = 4;
}

message AppDeleteReq {
  int32 type = 1;
  string configId = 2;
}