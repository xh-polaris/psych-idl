syntax = "proto3";

package model;

option go_package = "model";

import "basic/pagination.proto";

message UnitAppConfig {
  string id = 1;
  string unitId = 2;
  string name = 3;
  string video = 4;
  string chat = 5;
  string asr = 6;
  string tts = 7;
  string report = 8;
  map<string, string> option = 9;
  int32 status = 10;
  int64 createTime = 11;
  int64 updateTime = 12;
}

message App {
  string id = 1;
  string name = 2;
  string description = 3;
  string lang = 4;
  string platform = 5;
  string url = 6;
  string appid = 7;
  string auth = 8;
  bool stream = 9;
  int32 level = 10;
  int32 status = 11;
  int64 createTime = 13;
  int64 expireTime = 14;
  int64 updateTime = 15;
  int64 deleteTime = 16;
}

message AppData {
  oneof app {
    ChatApp chatApp = 1;
    TtsApp ttsApp = 2;
    AsrApp asrApp = 3;
    ReportApp reportApp = 4;
  }
}

message ChatApp {
  App app = 1;
}

message TtsApp {
  App app = 1;
  string namespace = 2;
  string speaker = 3;
  string resourceId = 4;
  message audioParam {
    string format = 1;
    int32 rate = 2;
    int32 bit = 3;
    int32 speechRate = 4;
    int32 loudnessRate = 5;
    string lang = 6;
  }
  audioParam audioParams = 5;
}

message AsrApp {
  App app = 1;
  string format = 2;
  string codec = 3;
  int32 rate = 4;
  int32 bits = 5;
  int32 channels = 6;
  string modelName = 7;
  bool enablePunc = 8;
  bool enableDdc = 9;
  string resultType = 10;
}

message ReportApp {
  App app = 1;
}

message UnitAppConfigCreateReq {
  UnitAppConfig unitAppConfig = 1;
  bool admin = 2;
}
message UnitAppConfigCreateResp {
  UnitAppConfig unitAppConfig = 1;
}

message UnitAppConfigUpdateReq {
  UnitAppConfig unitAppConfig = 1;
  bool admin = 2;
}

message UnitAppConfigGetByIdReq {
  string id = 1;
  bool admin = 2;
}
message UnitAppConfigGetByIdResp {
  UnitAppConfig unitAppConfig = 1;
}

message UnitAppConfigGetByUnitIdReq {
  string unitId = 1;
  bool admin = 2;
}
message UnitAppConfigGetByUnitIdResp {
  UnitAppConfig unitAppConfig = 1;
}

message AppCreateReq {
  int32 type = 1;
  AppData app = 2;
  string configId = 3;
}
message AppCreateResp {
  AppData app = 1;
}

message AppUpdateReq {
  int32 type = 1;
  AppData app = 2;
  string configId = 3;
}

message AppGetByUnitIdReq {
  string unitId = 1;
}
message AppGetByUnitIdResp {
  ChatApp chatApp = 1;
  TtsApp ttsApp = 2;
  AsrApp asrApp = 3;
  ReportApp reportApp = 4;
}

message AppGetPagesReq {
  basic.PaginationOptions paginationOptions = 1;
  int32 type = 2;
}
message AppGetPagesResp {
  repeated AppData apps = 1;
  int64 total = 2;
  int64 page = 3;
  int64 pageSize = 4;
}

message AppDeleteReq {
  int32 type = 1;
  string configId = 2;
}